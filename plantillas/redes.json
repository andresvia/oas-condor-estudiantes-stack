{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Resources": {
    "SeguridadInterna": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Security Group Interno"
      }
    },
    "SeguridadBalanceador": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Security Group Externo"
      }
    },
    "IngresoInternoHTTP": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": {
          "Fn::GetAtt": [
            "SeguridadInterna",
            "GroupId"
          ]
        },
        "SourceSecurityGroupId": {
          "Fn::GetAtt": [
            "SeguridadBalanceador",
            "GroupId"
          ]
        },
        "IpProtocol": "80"
      }
    },
    "IngresoExternoHTTP": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": {
          "Fn::GetAtt": [
            "SeguridadBalanceador",
            "GroupId"
          ]
        },
        "CidrIp": "0.0.0.0/0",
        "IpProtocol": "80"
      }
    },
    "IngresoExternoHTTPS": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "GroupId": {
          "Fn::GetAtt": [
            "SeguridadBalanceador",
            "GroupId"
          ]
        },
        "CidrIp": "0.0.0.0/0",
        "IpProtocol": "443"
      }
    }
  }
}
